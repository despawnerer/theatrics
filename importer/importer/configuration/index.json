{
    "mappings": {
        "event": {
            "properties": {
                "type": {"type": "string", "index": "not_analyzed"},
                "is_premiere": {"type": "boolean"},

                "name": {"type": "string", "analyzer": "russian"},
                "full_name": {"type": "string", "analyzer": "russian"},
                "tagline": {"type": "string", "analyzer": "russian"},
                "lead": {"type": "string", "analyzer": "russian"},
                "description": {"type": "string", "analyzer": "russian"},

                "location": {"type": "string", "index": "not_analyzed"},
                "place": {"type": "integer", "index": "not_analyzed"},

                "age_restriction": {"type": "string", "index": "not_analyzed"},
                "price": {
                    "properties": {
                        "text": {"type": "string", "index": "no"}
                    }
                },

                "favorites_count": {"type": "integer"},
                "comments_count": {"type": "integer"},

                "images": {
                    "type": "nested",
                    "properties": {
                        "image": {"type": "string", "index": "no"},
                        "source": {
                            "properties": {
                                "link": {"type": "string", "index": "no"},
                                "name": {"type": "string", "index": "no"}
                            }
                        },
                        "thumbnails": {
                            "properties": {
                                "144x96": {"type": "string", "index": "no"},
                                "640x384": {"type": "string", "index": "no"}
                            }
                        }
                    }
                },
                "dates": {
                    "type": "nested",
                    "properties": {
                        "end": {"format": "strict_date_optional_time||epoch_millis", "type": "date"},
                        "start": {"format": "strict_date_optional_time||epoch_millis", "type": "date"}
                    }
                },

                "source": {
                    "properties": {
                        "name": {"type": "string", "index": "no"},
                        "url": {"type": "string", "index": "no"}
                    }
                }
            }
        },
        "place": {
            "properties": {
                "is_closed": {"type": "boolean"},
                "is_stub": {"type": "boolean"},

                "name": {"type": "string", "analyzer": "russian"},
                "full_name": {"type": "string", "analyzer": "russian"},
                "tagline": {"type": "string", "analyzer": "russian"},
                "lead": {"type": "string", "analyzer": "russian"},
                "description": {"type": "string", "analyzer": "russian"},

                "location": {"type": "string", "index": "not_analyzed"},
                "address": {"type": "string"},
                "subway": {"type": "string"},
                "coords": {"type": "geo_point"},

                "age_restriction": {"type": "string", "index": "not_analyzed"},
                "phone_numbers": {"type": "string", "index": "no"},
                "working_hours": {"type": "string", "index": "no"},
                "url": {"type": "string", "index": "no"},

                "comments_count": {"type": "integer"},
                "favorites_count": {"type": "integer"},

                "images": {
                    "type": "nested",
                    "properties": {
                        "image": {"type": "string", "index": "no"},
                        "source": {
                            "properties": {
                                "link": {"type": "string", "index": "no"},
                                "name": {"type": "string", "index": "no"}
                            }
                        },
                        "thumbnails": {
                            "properties": {
                                "144x96": {"type": "string", "index": "no"},
                                "640x384": {"type": "string", "index": "no"}
                            }
                        }
                    }
                },

                "source": {
                    "properties": {
                        "name": {"type": "string", "index": "no"},
                        "url": {"type": "string", "index": "no"}
                    }
                }
            }
        }
    }
}
